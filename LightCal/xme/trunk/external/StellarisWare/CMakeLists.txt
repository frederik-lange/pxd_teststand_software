#
# Copyright (c) 2011-2012, fortiss GmbH.
# Licensed under the Apache License, Version 2.0.
#
# Use, modification and distribution are subject to the terms specified
# in the accompanying license file LICENSE.txt located at the root directory
# of this software distribution. A copy is available at
# http://chromosome.fortiss.org.
#
# This file is part of CHROMOSOME.
#
# $Id$
#
# Author:
#         Simon Barner <barner@fortiss.org>
#

# Define directories

# Set StellarisWare include dir: CACHE Variable XME_EXTERNAL_STELLARISWARE_INC_DIR (via find_file)
if (NOT DEFINED XME_EXTERNAL_STELLARISWARE_INC_DIR)
	find_file (XME_EXTERNAL_STELLARISWARE_INC_DIR "inc" PATHS "${XME_EXTERNAL_STELLARISWARE_DIR}" DOC "CHROMOSOME external directory: StellarisWare include dir" NO_DEFAULT_PATH)
endif (NOT DEFINED XME_EXTERNAL_STELLARISWARE_INC_DIR)

# Set StellarisWare source dir: CACHE Variable XME_EXTERNAL_STELLARISWARE_SRC_DIR (via find_file)
if (NOT DEFINED XME_EXTERNAL_STELLARISWARE_SRC_DIR)
	find_file (XME_EXTERNAL_STELLARISWARE_SRC_DIR "driverlib" PATHS "${XME_EXTERNAL_STELLARISWARE_DIR}" DOC "CHROMOSOME external directory: StellarisWare source dir" NO_DEFAULT_PATH)
endif (NOT DEFINED XME_EXTERNAL_STELLARISWARE_SRC_DIR)

# Set StellarisWare util dir: CACHE Variable XME_EXTERNAL_STELLARISWARE_UTIL_DIR (via find_file)
if (NOT DEFINED XME_EXTERNAL_STELLARISWARE_UTIL_DIR)
	find_file (XME_EXTERNAL_STELLARISWARE_UTIL_DIR "utils" PATHS "${XME_EXTERNAL_STELLARISWARE_DIR}" DOC "CHROMOSOME external directory: StellarisWare util dir" NO_DEFAULT_PATH)
endif (NOT DEFINED XME_EXTERNAL_STELLARISWARE_UTIL_DIR)


# Include directories
xme_include_directory(
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}
	${XME_EXTERNAL_STELLARISWARE_DIR}
	${XME_EXTERNAL_STELLARISWARE_DIR}/boards/ek-lm3s8962	
)

# Define target specific XME components, i.e. components below the HAL layer.
# The latter are defined in ${XME_SRC_DIR}/ports/arch/LM3/hal

# Defines
xme_definition(
	-Dsourcerygxx=1
)


# Startup code
xme_add_component(
	"xme_target_startup"
	${XME_EXTERNAL_STELLARISWARE_DIR}/boards/ek-lm3s8962/startup/startup_gcc.c	
)

# Board support package
xme_add_component(
	"xme_target_bsp"
	${XME_EXTERNAL_STELLARISWARE_DIR}/boards/ek-lm3s8962/drivers/rit128x96x4.c
	${XME_EXTERNAL_STELLARISWARE_DIR}/boards/ek-lm3s8962/drivers/rit128x96x4.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/adc.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/can.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/can.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/comp.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/comp.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/debug.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/epi.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/epi.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/ethernet.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/ethernet.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/flash.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/flash.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/gpio.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/gpio.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/hibernate.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/hibernate.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/i2c.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/i2c.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/i2s.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/i2s.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/interrupt.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/interrupt.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/mpu.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/mpu.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/pin_map.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/pwm.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/pwm.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/qei.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/qei.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/rom.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/rom_map.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/ssi.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/ssi.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/sysctl.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/sysctl.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/systick.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/systick.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/timer.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/timer.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/uart.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/uart.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/udma.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/udma.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/usb.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/usb.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/watchdog.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/watchdog.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/asmdefs.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_adc.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_can.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_comp.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_epi.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_ethernet.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_flash.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_gpio.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_hibernate.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_i2c.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_i2s.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_ints.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_memmap.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_nvic.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_pwm.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_qei.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_ssi.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_sysctl.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_timer.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_types.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_uart.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_udma.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_usb.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/hw_watchdog.h
	${XME_EXTERNAL_STELLARISWARE_INC_DIR}/lm3s8962.h
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/cpu.c
	${XME_EXTERNAL_STELLARISWARE_SRC_DIR}/cpu.h	
	xme_target_startup
	)

xme_add_component (
			"xme_lwip_netif_ethernet"
			${XME_EXTERNAL_STELLARISWARE_UTIL_DIR}/lwiplib.c
			${XME_EXTERNAL_STELLARISWARE_UTIL_DIR}/lwiplib.h
		)
